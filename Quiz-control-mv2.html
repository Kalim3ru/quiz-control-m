<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Control-M Quiz</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .question {
            margin-bottom: 20px;
        }
        .options {
            list-style: none;
            padding: 0;
        }
        .options li {
            margin-bottom: 10px;
        }
        .progress {
            width: 100%;
            background-color: #f3f3f3;
            margin-bottom: 20px;
        }
        .progress-bar {
            width: 0;
            height: 20px;
            background-color: #4caf50;
        }
        .result {
            display: none;
        }
        .buttons {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="progress">
        <div class="progress-bar" id="progressBar"></div>
    </div>
    <div id="quizContainer">
        <div id="questionContainer" class="question"></div>
        <ul id="optionsContainer" class="options"></ul>
        <div class="buttons">
            <button id="backButton" onclick="prevQuestion()">Back</button>
            <button id="nextButton" onclick="nextQuestion()">Next</button>
        </div>
    </div>
    <div id="resultContainer" class="result">
        <h2>Your Score: <span id="score"></span></h2>
        <p id="summary"></p>
        <button onclick="restartQuiz()">Restart Quiz</button>
    </div>
    <script>
        const quizData = [
            {
                question: "What is the primary role of the Control-M/Server?",
                options: [
                    "Executing jobs",
                    "Scheduling and managing jobs",
                    "Storing job logs",
                    "Monitoring hardware performance"
                ],
                answer: 1
            },
            {
                question: "Which component of Control-M is responsible for executing jobs on target systems?",
                options: [
                    "Control-M/Agent",
                    "Control-M/Server",
                    "Control-M/EM",
                    "Control-M/Forecast"
                ],
                answer: 0
            },
            // Additional questions omitted for brevity
        ];

        let currentQuestionIndex = 0;
        let score = 0;
        let answers = [];

        function loadQuestion() {
            const questionContainer = document.getElementById("questionContainer");
            const optionsContainer = document.getElementById("optionsContainer");
            const progressBar = document.getElementById("progressBar");

            const currentQuestion = quizData[currentQuestionIndex];
            questionContainer.textContent = `Question ${currentQuestionIndex + 1}: ${currentQuestion.question}`;

            optionsContainer.innerHTML = "";
            currentQuestion.options.forEach((option, index) => {
                const li = document.createElement("li");
                const input = document.createElement("input");
                input.type = "radio";
                input.name = "option";
                input.value = index;
                input.id = `option${index}`;
                if (answers[currentQuestionIndex] !== undefined && answers[currentQuestionIndex].selected === index) {
                    input.checked = true;
                }
                
                const label = document.createElement("label");
                label.htmlFor = input.id;
                label.textContent = option;

                li.appendChild(input);
                li.appendChild(label);
                optionsContainer.appendChild(li);
            });

            const progressPercentage = ((currentQuestionIndex + 1) / quizData.length) * 100;
            progressBar.style.width = `${progressPercentage}%`;

            document.getElementById("backButton").style.display = currentQuestionIndex > 0 ? "inline-block" : "none";
            document.getElementById("nextButton").textContent = currentQuestionIndex === quizData.length - 1 ? "Finish" : "Next";
        }

        function nextQuestion() {
            const selectedOption = document.querySelector('input[name="option"]:checked');
            if (!selectedOption) {
                alert("Please select an answer!");
                return;
            }

            const answer = parseInt(selectedOption.value);
            if (answers[currentQuestionIndex] === undefined) {
                answers[currentQuestionIndex] = { selected: answer, correct: answer === quizData[currentQuestionIndex].answer };
                if (answers[currentQuestionIndex].correct) {
                    score++;
                }
            } else {
                answers[currentQuestionIndex].selected = answer;
                answers[currentQuestionIndex].correct = answer === quizData[currentQuestionIndex].answer;
                score = answers.reduce((acc, curr) => acc + (curr.correct ? 1 : 0), 0);
            }

            if (currentQuestionIndex < quizData.length - 1) {
                currentQuestionIndex++;
                loadQuestion();
            } else {
                showResult();
            }
        }

        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion();
            }
        }

        function showResult() {
            const quizContainer = document.getElementById("quizContainer");
            const resultContainer = document.getElementById("resultContainer");
            const scoreElement = document.getElementById("score");
            const summaryElement = document.getElementById("summary");

            quizContainer.style.display = "none";
            resultContainer.style.display = "block";
            scoreElement.textContent = `${score} out of ${quizData.length} (${((score / quizData.length) * 100).toFixed(2)}%)`;

            let summaryHTML = "<ul>";
            answers.forEach((answer, index) => {
                summaryHTML += `<li>Question ${index + 1}: ${quizData[index].question}<br>`;
                summaryHTML += `Selected Answer: ${quizData[index].options[answer.selected]}<br>`;
                summaryHTML += `Correct Answer: ${quizData[index].options[quizData[index].answer]}<br>`;
                summaryHTML += `Result: ${answer.correct ? "Correct" : "Wrong"}</li><br>`;
            });
            summaryHTML += "</ul>";
            summaryElement.innerHTML = summaryHTML;
        }

        function restartQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            answers = [];

            const quizContainer = document.getElementById("quizContainer");
            const resultContainer = document.getElementById("resultContainer");

            quizContainer.style.display = "block";
            resultContainer.style.display = "none";

            loadQuestion();
        }

        loadQuestion();
    </script>
</body>
</html>

